syntax = "proto3";

option csharp_namespace = "GrpcServer";

package chat;


service Chat {
  rpc Subscribe(Request) returns (stream Response); 
  rpc Unsubscripe(Request) returns (Response);
  rpc SendMessage(Msg) returns (Empty);
}

message Request {
	int32 id = 1;
}

message Response {
	string data = 1;
	int32 fromId = 2;
}

message Msg {
	int32 fromId = 1;
	int32 toId = 2;
	string text = 3;
}

message Empty {

}
